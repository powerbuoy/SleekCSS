/////////
// Config
$site-width: 1080px !default;
$site-width-min: 90vw !default;
$num-cols: 4 !default;

/////////////
// Strip unit
// https://css-tricks.com/snippets/sass/strip-unit-function/
@function strip-unit ($number) {
	@if type-of($number) == 'number' and not unitless($number) {
		@return $number / ($number * 0 + 1);
	}

	@return $number;
}

///////////////
// Site padding
@mixin site-padding ($width: $site-width, $var-name: --site-padding) {
	$reached: #{strip-unit($width) / strip-unit($site-width-min) * 100px};

	#{$var-name}: #{(100vw - $site-width-min) / 2};

	@media (min-width: #{$reached}) {
		#{$var-name}: calc((100vw - #{$width}) / 2);
	}
}

//////////////////
// Calculated vars
:root {
	// Site padding
	@include site-padding;

	// Slanting (TODO: top-right, bottom-right, top-left, bottom-left etc)
	--slant-top: polygon(0 calc(var(--spacing-section) / 3), 100% 0, 100% 100%, 0 100%);
	--slant-bottom: polygon(0 0, 100% 0, 100% calc(100% - var(--spacing-section) / 3), 0 100%);
	--slant-top-bottom: polygon(0 calc(var(--spacing-section) / 3), 100% 0, 100% calc(100% - var(--spacing-section) / 3), 0 100%);
}

///////////////////
// Custom selectors
@custom-selector :--heading h1, h2, h3, h4, h5, h6;
@custom-selector :--form-field input[type=text], input[type=password], input[type=search], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=date], input[type=month], input[type=week], input[type=time], input[type=datetime], input[type=datetime-local], input[type=color];

/////////
// Mixins
@import "mixins/auto-icons";
@import "mixins/button";
@import "mixins/container";
@import "mixins/grid";
@import "mixins/img";
@import "mixins/list";
@import "mixins/section";
@import "mixins/typography";
@import "mixins/utils";

/////////////
// Components
@import "components/base";
@import "components/button";
@import "components/container";
@import "components/dialog";
@import "components/grid";
@import "components/form";
@import "components/section";
